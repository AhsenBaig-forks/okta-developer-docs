---
title: Google Authenticator integration guide
---

<div class="oie-embedded-sdk">

<ApiLifecycle access="ie" /><br>
<ApiLifecycle access="Limited GA" /><br>

<StackSelector />

This guide shows you how to integrate the Google Authenticator into your authentication use cases using the embedded SDK.

---
**Learning outcomes**

* Understand the Google Authenticator flow.
* Learn step-by-step how to integrate the Google Authenticator into your authentication use case

**What you need**

* <StackSnippet snippet="orgconfigurepwdonly" />
* <StackSnippet snippet="oiesdksetup" />
* Google Authenticator installed on a mobile device

**Sample code**

<StackSnippet snippet="samplecode" />

**Related use cases**

<StackSnippet snippet="relatedusecases" />

---

## Overview

Google Authenticator is an authenticator app developed by Google used to verify the identity of a user. During authentication (for example sign-in), a user enrolled in Google Authenticator is challenged by the service provider to provide a Time-based One-Time Password (TOTP). The app is used to generate this TOTP, which is passed to the service provider for verification. The service provider independently generates the TOTP and validates that the submitted password is identical to the generated one.

The TOTP is calculated based off the current time and a shared key that was generated by the service provider and added to the Google Authenticator app during initial authenticator enrollment. It is this shared key, which is stored at the service provider and user's mobile device, that makes Google Authenticator a possession-based factor type.

As the service provider, you can provide Google Authenticator support to your users by enabling it in your Okta org and building out support for it in your application using the Embedding SDK.

The following diagram illustrates how the Google authenticator enrollment and challenge flows can work in your application.

<div class="common-image-format">

![Diagram showing the Google Authenticator enrollment flow](/img/authenticators/authenticators-google-flow-overview.png)

</div>

As the service provider, you enabled Google Authenticator in the Okta org through configuration updates and build support in your site or app

## Update configurations

Before you can start using the Google Authenticator, create an Okta org application as described in <StackSnippet snippet="orgconfigurepwdonly" inline/>. Then add the Google Authenticator to your app integration by executing the following steps:

### 1: Add Google Authenticator to the Okta org

1. In the Admin Console, go to **Security > Authenticators**.
1. On the **Authenticators** page, click **Add Authenticator**.
1. On the **Add Authenticator** dialog box, click **Add** under **Google Authenticator**.
1. On the **Add Google Authenticator** dialog box, click **Add**.
1. On the **Authenticators** page, select the **Enrollment** tab.
1. On the **Enrollment** tab, click **Edit** for the **Default Policy**.
1. Set **Google Authenticator** to **Optional** and click **Update Policy**.

### 2: Configure your Okta org application to use Google Authenticator

1. In the Admin Console, go to **Applications** and **Applications**.
1. On the **Applications** page, click on the application you've previously created.
1. On the **General** tab ensure that **Interaction Code** and **Refresh Token** are selected.
1. On the **Sign-On** tab, scroll down to the **Sign-On Policy** section and click **Add Rule**.
1. On the **Add Rule** dialog box, do the following:
   1. Enter a name for the new rule (for example "2FA Rule").
   1. Set **User must authenticate with** to **Password+Another Factor**.
   1. Select **Device Bound**.
   1. Confirm **Your org's authenticators that satisify this requirment** is set too **Password AND Google Authenticator or ...**.
   1. Click **Save**.

## Install Google Authenticator

Install the Google Authenticator app on your mobile device either using either the Google Play Store (Android) or Apple App Store (iOS).

## Integrate SDK for authenticator enrollment

### Summary of steps

The following summaries the Google Authenticator enrollment flow using a basic user sign-in use case.

<StackSnippet snippet="enrollmentintegrationsummary" />

The following instructions detail step-by-step how to integrate the Google Authenticator enrollment flow into your app.

<StackSnippet snippet="enrollmentintegrationsteps" />

## Integrate SDK for authenticator challenge

### Summary of steps

The following summaries the Google Authenticator challenge flow using a basic user sign-in use case.

<StackSnippet snippet="challengeintegrationsummary" />

The following instructions detail step-by-step how to integrate the Google Authenticator challenge flow into your app.

<StackSnippet snippet="challengeintegrationsteps" />

</div>

<!--File needs review-->
