For embedded Android applications deploying Okta Classic Engine authentication flows, there are generally two implementation approaches: using the Okta back-end APIs or using the [Okta Java Authentication (Auth) SDK](https://github.com/okta/okta-auth-java/). Some embedded apps use a combination of the two approaches to achieve their desired authentication flow. The Okta back-end API is seen as a manual way of implementing authentication flows with Okta. Whereas, the Java Auth SDK encapsulates the API resources to a convenient client wrapper for apps to achieve the same Classic Engine authentication flows.

No matter which approach that you use for your Classic Engine embedded Android app, to upgrade to an Identity Engine embedded Android app, you need to use an Identity Engine SDK. The upgrade process requires you to review your existing code and figure out the mappings that are required to transform API requests or Classic Engine SDK methods to Identity Engine SDK methods. In some instances, you need to modify the interaction structure of your code.

The following table is a high-level mapping of the typical Classic Engine API requests and Java Auth SDK methods to Java Identity Engine SDK methods. Since there are a variety of combinations to achieve Classic Engine authentication flows, the mapping list isn’t exhaustive. Review the following SDK upgrade examples for detailed mapping suggestions:

- [Map basic sign-in code to the Okta Identity Engine SDK](#map-basic-sign-in-code-to-the-otka-identity-engine-sdk) &mdash; a basic sign-in flow with username and password
- [Map MFA code to the Okta Identity Engine SDK](#map-mfa-code-to-the-okta-identity-engine-sdk) &mdash; a basic sign-in flow with username, password, and either the email or phone factor
- [Map password recovery code to the Okta Identity Engine SDK](#map-password-recovery-code-to-the-identity-engine-sdk) &mdash; password recovery using email
- [Map basic sign-out APIs to the Okta Identity Engine SDK](#map-sign-out-code-to-the-identity-engine-sdk) &mdash; sign-out flow

| Okta API endpoints | Classic Engine Java Auth SDK methods (okta-auth-java) | Java Identity Engine SDK methods (okta-idx-java) | Description |
| ------------------ | ----------------------------------------------------- | ------------------------------------------------ | ----------- |
| [`/api/v1/authn`](/docs/reference/api/authn/)<br>[`/api/v1/sessions`](/docs/reference/api/sessions/#create-session-with-a-session-token) | [`AuthenticationClient.authenticate()`](https://github.com/okta/okta-auth-java/blob/master/api/src/main/java/com/okta/authn/sdk/client/AuthenticationClient.java#L94)| [`IDXAuthenticationWrapper.authenticate()`](https://github.com/okta/okta-idx-java/blob/master/api/src/main/java/com/okta/idx/sdk/api/client/IDXAuthenticationWrapper.java#L116)| Authenticate a user with username and password credentials |
| [`/api/v1/authn/factors/{factorId}/verify`](/docs/reference/api/authn/#verify-factor) | [`AuthenticationClient.challengeFactor()`](https://github.com/okta/okta-auth-java/blob/master/api/src/main/java/com/okta/authn/sdk/client/AuthenticationClient.java#L536)<br>[`AuthenticationClient.verifyFactor()`](https://github.com/okta/okta-auth-java/blob/master/api/src/main/java/com/okta/authn/sdk/client/AuthenticationClient.java#L480) | [`IDXAuthenticationWrapper.selectAuthenticator()`](https://github.com/okta/okta-idx-java/blob/master/api/src/main/java/com/okta/idx/sdk/api/client/IDXAuthenticationWrapper.java#L282)<br>[`IDXAuthenticationWrapper.verifyAuthenticator()`](https://github.com/okta/okta-idx-java/blob/master/api/src/main/java/com/okta/idx/sdk/api/client/IDXAuthenticationWrapper.java#L405) | Verify an authenticator/factor |
| [`/api/v1/authn/recovery/password`](/docs/reference/api/authn/#forgot-password)<br>[`/api/v1/authn/recovery/token`](/docs/reference/api/authn/#verify-recovery-token)<br>[`/api/v1/authn/recovery/answer`](/docs/reference/api/authn/#answer-recovery-question)<br>[`/api/v1/authn/credentials/reset_password`](/docs/reference/api/authn/#reset-password) | [`AuthenticationClient.recoverPassword()`](https://github.com/okta/okta-auth-java/blob/master/api/src/main/java/com/okta/authn/sdk/client/AuthenticationClient.java#L264)<br>[`AuthenticationClient.verifyRecoveryToken()`](https://github.com/okta/okta-auth-java/blob/eab73b5c274b36c276877ee705ca995d3be37cfe/api/src/main/java/com/okta/authn/sdk/client/AuthenticationClient.java#L703)<br>[`AuthenticationClient.answerRecoveryQuestion()`](https://github.com/okta/okta-auth-java/blob/master/api/src/main/java/com/okta/authn/sdk/client/AuthenticationClient.java#L339)<br>[`AuthenticationClient.resetPassword()`](https://github.com/okta/okta-auth-java/blob/master/api/src/main/java/com/okta/authn/sdk/client/AuthenticationClient.java#L181) | [`IDXAuthenticationWrapper.recoverPassword()`](https://github.com/okta/okta-idx-java/blob/master/api/src/main/java/com/okta/idx/sdk/api/client/IDXAuthenticationWrapper.java#L177)<br>[`IDXAuthenticationWrapper.selectAuthenticator()`](https://github.com/okta/okta-idx-java/blob/master/api/src/main/java/com/okta/idx/sdk/api/client/IDXAuthenticationWrapper.java#L282)<br>[`IDXAuthenticationWrapper.verifyAuthenticator()`](https://github.com/okta/okta-idx-java/blob/master/api/src/main/java/com/okta/idx/sdk/api/client/IDXAuthenticationWrapper.java#L405) | Recover a user’s password |
| [`/api/v1/authn/skip`](/docs/reference/api/authn/#skip-transaction-state) | [`AuthenticationClient.skip()`](https://github.com/okta/okta-auth-java/blob/master/api/src/main/java/com/okta/authn/sdk/client/AuthenticationClient.java#L404) | [`IDXAuthenticationWrapper.skipAuthenticatorEnrollment()`](https://github.com/okta/okta-idx-java/blob/master/api/src/main/java/com/okta/idx/sdk/api/client/IDXAuthenticationWrapper.java#L502) | Skip an optional authenticator/factor during enrollment or verification |
| [`/api/v1/authn/factors/{factorId}/lifecycle/activate`](/docs/reference/api/authn/#activate-factor)<br>[`/api/v1/authn/factors`](/docs/reference/api/authn/#enroll-factor)<br>[`/api/v1/authn/factors/${factorId}/verify`](/docs/reference/api/authn/#verify-security-question-factor) | [`AuthenticationClient.activateFactor()`](https://github.com/okta/okta-auth-java/blob/master/api/src/main/java/com/okta/authn/sdk/client/AuthenticationClient.java#L453)<br>[`AuthenticationClient.verifyFactor()`](https://github.com/okta/okta-auth-java/blob/master/api/src/main/java/com/okta/authn/sdk/client/AuthenticationClient.java#L480) | [`IDXAuthenticationWrapper.selectFactor()`](https://github.com/okta/okta-idx-java/blob/master/api/src/main/java/com/okta/idx/sdk/api/client/IDXAuthenticationWrapper.java#L313) | Activate a factor |
| [`/api/v1/authn/cancel`](/docs/reference/api/authn/#cancel-transaction) | [`AuthenticationClient.cancel()`](https://github.com/okta/okta-auth-java/blob/master/api/src/main/java/com/okta/authn/sdk/client/AuthenticationClient.java#L428) | [`IDXAuthenticationWrapper.revokeToken()`](https://github.com/okta/okta-idx-java/blob/389806c2c78ed2633afeecf5e5c382975895ce94/api/src/main/java/com/okta/idx/sdk/api/client/IDXAuthenticationWrapper.java#L569-L576) | Cancel the current transaction during factor verification/enrollment (revokes the state token) |
| [`/api/v1/authn/factors/{factorId}/lifecycle/activate/poll`](/docs/reference/api/authn/#poll-for-push-factor-activation)<br>[`/api/v1/authn/factors/{factorId}/lifecycle/activate/email`](/docs/reference/api/authn/#activate-email-factor)<br>[`/api/v1/authn/factors/{factorId}/verify/resend`](/docs/reference/api/authn/#resend-sms-challenge)<br>[`/api/v1/authn/factors/{factorId}/lifecycle/resend`](/docs/reference/api/authn/#resend-sms-as-part-of-enrollment) | `AuthenticationClient.verifyActivation()`<br>`AuthenticationClient.sendActivationEmail()`<br>`AuthenticationClient.resendVerifyFactor()`<br>`AuthenticationClient.resendActivateFactor()` | [`IDXAuthenticationWrapper.verifyAuthenticator()`](https://developer.okta.com/docs/reference/api/authn/#resend-sms-as-part-of-enrollment)<br>[`IDXAuthenticationWrapper.selectAuthenticator()`](https://github.com/okta/okta-idx-java/blob/master/api/src/main/java/com/okta/idx/sdk/api/client/IDXAuthenticationWrapper.java#L282-L304)<br>[`IDXAuthenticationWrapper.resend()`](https://github.com/okta/okta-idx-java/blob/master/api/src/main/java/com/okta/idx/sdk/api/client/IDXAuthenticationWrapper.java#L525-L539)| Verify an authentication factor |
